[supervisord]
nodaemon=true
logfile=/app/logs/supervisord.log
pidfile=/var/run/supervisord.pid

[program:calvin-backend]
command=/usr/local/bin/uv run uvicorn app.main:app --host 0.0.0.0 --port 8000
directory=/app/backend
autostart=true
autorestart=true
stderr_logfile=/app/logs/backend-error.log
stdout_logfile=/app/logs/backend.log
environment=PYTHONUNBUFFERED=1

[program:calvin-frontend]
command=npm run preview
directory=/app/frontend
autostart=true
autorestart=true
stderr_logfile=/app/logs/frontend-error.log
stdout_logfile=/app/logs/frontend.log
environment=NODE_ENV=production

